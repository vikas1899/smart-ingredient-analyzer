{% load static %}
<nav
  class="bg-gradient-to-l from-slate-900 via-blue-900 to-indigo-900 p-4 py-4 text-white shadow-2xl sticky top-0 z-50 transition-all duration-300 backdrop-blur-sm"
>
  <div class="container mx-auto flex justify-between items-center">
    <a href="{% url 'upload' %}" class="flex items-center">
      <div class="relative">
        <img
          src="{% static 'ingredient_analysis_app/logo.png' %}"
          alt="IngredientCheck Logo"
          class="w-18 h-16 mr-3"
          color="white"
        />
      </div>
      <div>
        <span
          class="text-2xl font-bold tracking-tight bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent"
          >IngredientCheck</span
        >
        <div class="text-xs text-blue-200 opacity-75">AI-Powered Analysis</div>
      </div>
    </a>
    <div class="flex space-x-8 items-center">
      <span
        class="text-gray-300 text-sm bg-white/10 px-3 py-1 rounded-full backdrop-blur-sm"
      >
        Welcome,
        <span class="font-semibold text-white">{{ user.username }}</span>
      </span>
      <a
        href="{% url 'upload' %}"
        class="nav-link group relative text-gray-200 hover:text-white transition-all duration-300 {% if request.resolver_match.url_name == 'upload' %}active{% endif %}"
      >
        <div
          class="flex items-center space-x-2 px-4 py-2 rounded-lg group-hover:bg-white/10 transition-all duration-300"
        >
          <i
            class="fas fa-microscope group-hover:rotate-12 transition-transform duration-300"
          ></i>
          <span class="font-medium">Analyze</span>
        </div>
      </a>
      <a
        href="{% url 'history' %}"
        class="nav-link group relative text-gray-200 hover:text-white transition-all duration-300 {% if request.resolver_match.url_name == 'history' %}active{% endif %}"
      >
        <div
          class="flex items-center space-x-2 px-4 py-2 rounded-lg group-hover:bg-white/10 transition-all duration-300"
        >
          <i
            class="fas fa-history group-hover:rotate-12 transition-transform duration-300"
          ></i>
          <span class="font-medium">History</span>
        </div>
      </a>
      <a
        href="{% url 'edit-medical' %}"
        class="nav-link group relative text-gray-200 hover:text-white transition-all duration-300 {% if request.resolver_match.url_name == 'edit-medical' %}active{% endif %}"
      >
        <div
          class="flex items-center space-x-2 px-4 py-2 rounded-lg group-hover:bg-white/10 transition-all duration-300"
        >
          <i
            class="fas fa-user-md group-hover:scale-110 transition-transform duration-300"
          ></i>
          <span class="font-medium">Medical Info</span>
        </div>
      </a>
      <a
        href="{% url 'logout' %}"
        class="group relative bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-medium py-3 px-6 rounded-xl transition-all duration-300 transform hover:scale-105 hover:shadow-lg hover:shadow-red-500/25"
      >
        <div class="flex items-center space-x-2">
          <i
            class="fas fa-sign-out-alt group-hover:translate-x-1 transition-transform duration-300"
          ></i>
          <span>Logout</span>
        </div>
      </a>
    </div>
  </div>
</nav>

<style>
  .nav-link::after {
    content: "";
    position: absolute;
    width: 0;
    height: 3px;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(90deg, #10b981, #3b82f6);
    transition: width 0.3s ease;
    border-radius: 2px;
  }

  .nav-link:hover::after,
  .nav-link.active::after {
    width: 80%;
  }

  .nav-link.active {
    color: #10b981 !important;
    font-weight: 600;
  }

  .nav-link.active div {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.2);
  }

  /* Glassmorphism effect */
  nav::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(10px);
    z-index: -1;
  }
</style>
